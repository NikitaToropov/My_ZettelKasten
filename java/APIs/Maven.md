# Maven — инструмент для управления и сборки проектов.

* Понятная модель которую можно переиспользовать + подключаемые плагины
    * TODO не понятно что подразумевается под "Моделью"
* Структура определяется в [[POM]].xml - (Project Object Model)  базовый модуль

---

# Аспекты которыми можно управлять с Maven:

* Создание
* Документирование
* Отчёты
* Зависимости
* Релизы
* SCM
* Список рассылки
* Дистрибьюция

---

## Соглашение о конфигурации:

* Maven использует базовую структуру проекта.
* Разработчик не обязан указывать каждую деталь. Тогда Maven .
* Разработчик несет ответственность только за соответственное размещение файлов.

### Значения по умолчанию для исходного кода проекта и других модулей:

| Модуль | Расположение относительно корня |
|----------|--------|
| Исходный код | src/main/java |
| Ресурсы | src/main/resources |
| Тесты | src/test |
| JAR дистрибутив | /target |
| Скомпилированный байт-код | /target/classes |

---

## Жизненный цикл сборки в Maven:

Maven имеет 3 стандартных жизненных цикла.

* ```clean``` - для очистки проекта от прошлых сборок.
* ```default``` - для сборки и развертывания проекта.
* ```site``` - для публикации в вебе.

Каждый из циклов определяется своей последовательностью разных фаз сборки. Фаза сборки - этап жизненного цикла.

### Сlean

| Фаза | Описание |
|----------|--------|
| ```pre-clean``` | выполнить процесс до фактической чистки проекта |
| ```clean``` | удалить все файлы, созданные предыдущей сборкой |

1. **clean** — удаляются все скомпилированные файлы из каталога target (место, в котором сохраняются готовые артефакты);
2. **validate** — идет проверка, вся ли информация доступна для сборки проекта;
3. **compile** — компилируются файлы с исходным кодом;
4. **test** — запускаются тесты;
5. **package** — упаковываются скомпилированные файлы (в jar, war и т.д. архив);
6. **verify** — выполняются проверки для подтверждения готовности упакованного файла;
7. **install** — пакет помещается в локальный репозиторий. Теперь он может использоваться другими проектами как внешняя
   библиотека;
8. **site** — создается документация проекта;
9. **deploy** — собранный архив копируется в удаленный репозиторий.

* У каждой фазы есть пре- и пост-фазы
* У каждой фазы есть свои цели (goal)
    * Стандартные цели заложены по умолчанию, дополнительные добавляются Maven-плагинами.

Goal(задача) - специальная задача, которая относиться к сборке проекта и его управлению.

* мб привязана к одной или нескольким фазам сборки
* если не привязана ни к одной фазе, то мб запущена вне фазавой сборки, прямым вызовом
    * TODO надо пример, пока не понятно.
* порядок выполнения целей зависит от порядка вызова целей и фаз.
    * Пример: ```mvn clean dependency:copy-dependencies package```
        * фаза **clean**
        * цель **dependency:copy-dependencies**
        * фаза **package**

---